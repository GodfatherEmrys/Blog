# 테스트

> 이 문서는 [React in Action](https://www.manning.com/books/react-in-action)의 내용을 학습한 것을 토대로 정리/추가한 것입니다.

## 테스트의 종류

- 단위 테스트 (Unit Test): 단위 테스트는 기능의 개별적인 단위를 테스트합니다. 하나의 메서드가 제대로 기능하고 있는지에 대해 집중하는 테스트입니다. 이 테스트를 통해 리팩토링을 안전하고 쉽게 할 수 있습니다.
- 서비스 테스트 (Service Test): 서비스 테스트는 기능의 집합에 집중하여 테스트합니다. 서비스 테스트는 규모, 범위, 테스트 대상에 대한 집중도가 매우 다양합니다. 이 테스트는 프로젝트 전체를 테스트하는 통합 테스트보다는 낮은 단위의 테스트를 하는 것입니다. 작은 기능들의 집합체 수준에서의 테스트를 합니다.
- 통합 테스트 (Integration Test): 통합 테스트는 애플리케이션을 통합해서 테스트하는 높은 수준의 테스트입니다. 통합 테스트는 서비스와 낮은 단위의 기능들이 얽혀 모두 제대로 동작하는지에 대한 테스트합니다. 이미 단위 테스트와 서비스 테스트가 따로 있기 때문에 주로 서비스 간의 인터페이스 자체를 이용하여 테스트를 실행합니다.

## 테스트를 하는 이유

- 제대로 동작하는 소프트웨어를 작성하기 위해서입니다. 현대의 소프트웨어는 직접 제작한 여러 기능들, 다른 사람들이 제작한 여러 라이브러리들로 결합하여 만들기 때문에 하나의 경우에서 제대로 동작한다고 해서 모두 제대로 동작되리라는 보장이 없습니다. 웹의 경우에는 각 브라우저, 버전에서의 차이도 있기 때문에 훨씬더 많은 변수들이 존재합니다. 따라서 테스트를 다양한 방식으로 수행해보면서 소프트웨어에 대한 검증을 다시 해볼 수 있습니다.
- 소프트웨어를 테스트하는 과정에서 더 좋은 코드를 작성할 수 있습니다. 테스트 코드를 작성하면서 코드를 작성하다보면 기존에 작성한 코드를 되짚어 보면서 다시 한번 생각할 수 있게 되고, 유연하고 좋은 테스트를 만들기 위해 필연적으로 기능의 통합과 분리를 하게 됩니다. 그리고 가설에 대한 검증을 해보면서 경우의 수를 더 찾아낼 수 있기 때문에 견고한 코드를 생산할 수 있습니다.
- 소프트웨어 개발 주기에 테스트를 통합함으로써 코드를 더 자주 릴리즈할 수 있습니다. 앱에 대한 테스트가 있기 때문에 사이드 이펙트에 대한 걱정이 다소 감소할 수 있으며 이는 곧 코드 배포에 대한 자신감으로 이어집니다.

## 테스트 도구의 분류

- 테스트 실행기 (Test runner): 테스트를 하기 위해서는 테스트를 실행할 도구가 필요합니다. 직접 만든 테스트를 해볼 수도 있겠지만 테스트 도구를 활용한다면 잘 만들어진 테스트 환경에서 쉽게 테스트 할 수 있습니다.
- 테스트 더블 (Test doubles): 테스트 코드를 작성할 때 인프라 스트럭처 중에서 문제가 생길 수 있거나 예측할 수 없는 부분은 최대한 테스트에 관여하지 못하게 하고 싶을 때 사용하는 도구입니다. 외부에서 오는 API나 기능들을 가짜 함수로 바꿔주어 실제 테스트 하는 코드에 집중할 수 있게 도와줍니다.
- 검증 라이브러리 (Assertion libraries)
- 환경 구성 지원 도구 (Environment helpers): 웹의 경우에는 브라우저 환경에서의 동작을 테스트하기 위해서는 DOM, 사용자 이벤트 등이 필요합니다. 테스트 지원 도구들 중에는 이런 환경을 모방하여 해볼 수 있도록 만들어진 것들이 있어 편리하게 기본 브라우저 환경에서의 테스트가 가능합니다.
- 프레임워크 전용 라이브러리(Framework specific libraries)
- 커버리지 도구 (Coverage tools)
