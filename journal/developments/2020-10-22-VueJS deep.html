<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/b65855c04a164bc1a9ff.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b65855c04a164bc1a9ff.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-2a885b0f9fe0d91a6ecc.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9116e7bff2bfccdffa19.js" as="script"/><link rel="preload" href="/_next/static/chunks/cd874f92f6d1699c91a107e773964eb1edecf64e.c4c0821fc1e405eb2232.js" as="script"/><link rel="preload" href="/_next/static/chunks/0330825bb4b60a963845fef84df50f39c18185b3.59202b6886415149c42a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-65a81d3b4286f2bf201f.js" as="script"/><link rel="preload" href="/_next/static/chunks/24397fd22d9bab5c45aab1ae4d7546ea43385761.6cd9d0f4d7bd2386c84f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/journal/%5Bclassification%5D/%5BpostName%5D-fcf1a4876d9291565e86.js" as="script"/></head><body><div id="__next"><article class="privateContainerstyled__StyledContainer-sc-1pri6yb-0 kIaQvG"><header class="privateHeaderstyled__StyledHeader-upsiq3-0 cbHKcl"><a href="/" class="privateMainTitlestyled__StyledMainTitleLink-zv7gwu-0 dIbQiW"><h1 class="privateMainTitlestyled__StyledHeadingTitle-zv7gwu-1 ehVxtg"><em>WinterLog</em><span>The Elementary Designer</span></h1></a></header><menu class="privateMainMenustyled__StyledMenu-sc-1nvjugz-0 jtEHgR"><li class="privateMainMenustyled__StyledMenuItem-sc-1nvjugz-1 pQlyx"><a href="/news">News</a></li><li class="privateMainMenustyled__StyledMenuItem-sc-1nvjugz-1 pQlyx on"><a href="/journal">Journal</a></li><li class="privateMainMenustyled__StyledMenuItem-sc-1nvjugz-1 pQlyx"><a href="/profile">Profile</a></li></menu><main class="privateMainstyled__StyledMain-sc-457js4-0 bnYosG"><article class="privatePostArticlestyled__StyledPostArticle-sc-1j9hfm5-0 WNxyx markdown-body"><section><h1 id="vuejs-deep">[VueJS] deep</h1>
<p>Vue-Loader 에서는 deep selector 라는 강력한 기능을 제공하고 있다.</p>
<p><a href="https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors">https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors</a></p>
<p>상위 컴포넌트에서 하위 컴포넌트의 css에 접근해서 사용할 수 있는 기능으로, 라이브러리를 사용했을 때 라이브러리 컴포넌트 CSS를 따로 사용하기 번거롭거나 해당 라이브러리 컴포넌트 CSS가 Scoped 상태이기를 원할 때 쓸 수 있는 기능이다.</p>
<p>이 기능은 기본적으로 <code>scoped</code> 상태에서만 활용할 수 있다.</p>
<p>먼저 간단하게 기본형을 확인해보자.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
    parent
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span>child<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span> {
    <span class="hljs-attribute">color</span>: orangered;
  }

  <span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.child</span> {
    <span class="hljs-attribute">color</span>: blueviolet;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p><code>Vue</code>는 <code>scoped</code> 상태일 때에는 해당 엘리먼트에 <code>[data-v-난수]</code>(ex: <code>[data-v-2a183b29]</code>)의 형태로 범위를 지정하기 위한 어트리뷰트를 붙이게 된다.</p>
<p>그리고 CSS를 컴파일 할 때에는 확실한 Scoped의 처리를 위해서 항상 마지막 클래스에 붙인다. 위의 코드가 CSS로 컴파일 되면 다음과 같은 형태가 된다.</p>
<pre><code class="language-html">/* 편의상 html 이라고 가정한다. */
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-v-2a183b29</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
    parent
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-v-2a183b29</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span>child<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span><span class="hljs-selector-attr">[data-v-2a183b29]</span> {
    <span class="hljs-attribute">color</span>: orangered;
  }

  <span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.child</span><span class="hljs-selector-attr">[data-v-2a183b29]</span> {
    <span class="hljs-attribute">color</span>: blueviolet;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p>이렇게 함으로써 <code>Vue</code>에서는 컴포넌트 단위로 서로 영향을 주지 않는 <code>scoped</code> 처리를 할 수 있게 된다.</p>
<p>하지만 이렇게 하나의 컴포넌트 단위 안에 있을 때가 아니라 다른 컴포넌트에 있는 클래스에 영향을 주려면 어떻게 해야할까?</p>
<p>이 이야기에 앞서 상황에 대한 설정이 조금 필요하다. 우선 컴포넌트 단위의 개발론에 입각하여 봤을 때 상위 컴포넌트가 하위 컴포넌트의 CSS에 영향을 주는 일이 &#39;좀처럼&#39; 있어서는 안될 것이다.</p>
<p>컴포넌트의 개발은 당연히 독립적으로 이루어질 수록 좋으며, 느슨한 연결을 가질 수록 훌륭한 것은 사실이다.</p>
<p>따라서 이런 상황은 자기 자신의 독립적인 컴포넌트를 제작할 때 발생하는 것이 아니라 다른 라이브러리와 연결하여 사용할 때 발생하는 경우라고 봐야한다.</p>
<p>특히 그 라이브러리에서 충분한 <code>Style-Props</code>를 충분히 지원하지 않는 경우에 활용할 수 있다.</p>
<p>라이브러리를 직접 수정하는 것이 아니라 한번 더 감싸서 커스텀한 컴포넌트를 만들고, 자체적으로 CSS를 추가하고자 할 때 이런 <code>deep</code> 기능의 활용이 유용할 것으로 생각된다.</p>
<p>이런 점을 우선 감안하고 본론으로 넘어가도록 한다.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span> {
    <span class="hljs-attribute">color</span>: orangered;
  }

  <span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.child</span> {
    <span class="hljs-attribute">color</span>: blueviolet;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p><code>&lt;LibraryComponent /&gt;</code>에 <code>child</code> 클래스(혹은 특정 엘리먼트)가 있다고 가정했을 때 위의 css 로는 child 클래스를 가진 엘리먼트의 폰트 색상을 원하는 색상으로 변경할 수가 없다.</p>
<p>왜냐하면 <code>[data-v-난수]</code>는 현재 <code>parent</code> 클래스가 있는 컴포넌트에만 붙고, <code>&lt;LibraryComponent /&gt;</code>에는 붙지 않기 때문이다.</p>
<p>아. 물론 함정이 하나 있다. <code>&lt;LibraryComponent /&gt;</code>의 루트 엘리먼트에는 <code>[data-v-난수]</code>가 동일하게 붙는다. 만약 <code>&lt;LibraryComponent /&gt;</code>의 루트 엘리먼트에 <code>child</code> 클래스가 붙어있다면 위의 코드도 적용이 되겠지만 설명을 위해 <code>child</code> 클래스가 루트 엘리먼트에 있는 것이 아니라고 가정한다. (이런 부분 때문에 처음에 Vue Scoped CSS의 범위를 설정하는 데에는 조금 이해와 인내심이 필요한 것 같다.)</p>
<p>이 때 <code>&lt;LibarayComponent /&gt;</code>의 <code>child</code> 클래스에 접근하기 위해서 사용할 수 있는 것이 Deep Selector 이다.</p>
<p>Vue-Loader 에서 기존에는 /deep/ 의 형태로 사용해야 했지만, 이 문법 자체는 deprecated 될 예정이고 &gt;&gt;&gt; 를 쓰는 것을 추천하고 있다.</p>
<p><a href="https://github.com/vuejs/vue-loader/issues/913">https://github.com/vuejs/vue-loader/issues/913</a></p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span> {
    <span class="hljs-attribute">color</span>: orangered;
  }

  <span class="hljs-selector-class">.parent</span> &gt;&gt;&gt; <span class="hljs-selector-class">.child</span> {
    <span class="hljs-attribute">color</span>: blueviolet;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p>위와 같이 사용했을 경우 다들 예상했다시피 CSS가 다음과 같이 컴파일 된다.</p>
<pre><code class="language-html">/* 편의상 html 이라고 가정한다. */
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-v-2a183b29</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
    parent
    <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> <span class="hljs-attr">data-v-2a183b29</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-v-2a183b29</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span>child<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span><span class="hljs-selector-attr">[data-v-2a183b29]</span> {
    <span class="hljs-attribute">color</span>: orangered;
  }

  <span class="hljs-selector-class">.parent</span><span class="hljs-selector-attr">[data-v-2a183b29]</span> <span class="hljs-selector-class">.child</span> {
    <span class="hljs-attribute">color</span>: blueviolet;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p>그러면 이제 안전하게(?) <code>&lt;LibraryComponent /&gt;</code> 하위에 있는 <code>child</code> 클래스를 지목하여 폰트 색상을 변경할 수 있다.</p>
<p>다만, 위의 예시에 보면 엘리먼트를 하나 더 추가했는데 이런 경우에는 자체 컴포넌트에 있는 <code>child</code> 클래스를 가진 엘리먼트의 폰트 색상도 당연히 함께 바뀌게 된다.</p>
<p>이제까지 본 사실을 토대로 알 수 있겠지만 이 <code>Deep Selector</code>를 사용하는 것은 <code>scoped</code> 라는 기반을 무너뜨릴 수 있는 위험한 존재가 될 수 있다. 당연히 남용하라고 만든 것은 아니며 <em>반드시 필요한 경우에만 사용</em>하는 것이 좋을 것이다.</p>
<p>하위 컴포넌트에 접근하기 위한 <code>Deep Selector</code>는 되도록이면 최하위 요소 컴포넌트에서 라이브러리 컴포넌트를 사용할 때 정도에 쓰는 것은 안전할 것이다.</p>
<p><code>SCSS</code> 등과 같은 전처리 도구를 사용할 때에는 아주 조금 확장된 기능을 사용할 순 있다. 미리 이야기해두자면 편리할 순 있지만, 좋은 시선으로 보기 어려운 방법이기 때문에 함께 일하고 있는 경우에는 서로간의 합의와 이해가 필요한 방법이다.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
  .parent {
    color: orangered;
  }

  .parent {
    ::v-deep .child {
      color: blueviolet;
    }
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p>현재 기준 <code>&quot;sass&quot;: &quot;^1.27.0&quot;, &quot;sass-loader&quot;: &quot;^10.0.4&quot;</code> 에서는 &gt;&gt;&gt; Deep Selector를 지원하지 않으며, <code>::v-deep</code>의 형태로 지원하고 있다.</p>
<p>여기까지는 이제까지 봤던 Deep Selector와 별반 다르지 않다.</p>
<p>다음 사례를 보자. 이상한 상황과 수많은 가정을 만들 수 밖에 없는 것을 양해해주기 바란다. 왜냐하면 애초에 이 기능은 극한 상황, 어쩔 수 없는 상황에서나 쓰는 것이지 자주 쓰라는 기능이 아니기 때문이다.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grand-parent&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;a-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;b-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;c-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;d-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
  .parent {
    color: orangered;
  }

  .a-parent {
    ::v-deep .child {
      color: chocolate;
    }
  }
  .b-parent {
    ::v-deep .child {
      color: darkcyan;
    }
  }
  .c-parent {
    ::v-deep .child {
      color: darkslategrey;
    }
  }
  .d-parent {
    ::v-deep .child {
      color: blueviolet;
    }
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p>이렇게 부모에 따라서 하위 라이브러리 CSS를 변경해야할 때는 이렇게 늘어뜨려 써야 할 경우가 있다. 전처리 도구를 활용할 경우에는 부모와 자식 클래스를 역전(!)시켜 사용할 수 있다.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grand-parent&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;a-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;b-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;c-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;d-parent&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LibraryComponent</span> <span class="hljs-attr">withClass</span>=<span class="hljs-string">&quot;child&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span>
  .parent {
    color: orangered;
  }

  .child {
    .a-parent &amp; ::v-deep {
      color: chocolate;
    }
    .b-parent &amp; ::v-deep {
      color: darkcyan;
    }
    .c-parent &amp; ::v-deep {
      color: darkslategrey;
    }
    .d-parent &amp; ::v-deep {
      color: blueviolet;
    }
  }
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></code></pre>
<p>코드를 좀더 간결하게 볼 수 있다. 서로간에 문법만 제대로 알고 있다면 크게 복잡도가 높지 않을 때에는 사용해 볼 수 있는 방식이다. 다만 일반적으로는 당연히 부모가 자식을 감싸는 것이 맞다고 생각하기 때문에 이 문법을 마냥 좋은 눈으로 보기는 어려워 보인다. 그렇기 때문에 혼자 코드를 작성할 때 어떻게 하든 상관없겠지만, 협업을 할 때에는 협업자들과의 동의 후에 진행하는 것이 좋을 것 같다.</p>
<p>결론적으로 <code>Deep Selector</code> 언젠가는 필요할 수도 있지만, 남용은 하지말자. 특히 이런 사용할 일이 드물거나 하는 기능은 마이너 버전 업데이트까지는 그래도 괜찮지만, 메이저 버전 업데이트에서는 빠지거나 변경될 가능성이 매우 크다. 안전한 컴포넌트 개발을 통해 미래의 수고를 줄이는 것이 더 좋을테니, 이런 기능이 있다는 정도만 알고 정말 도저히 방법이 없다라는 결론에 도달했을 때만 사용하도록 하자.</p>
</section></article></main><footer class="privateFooterstyled__StyledFooter-dpt5wm-0 evSZWX"><a href="https://github.com/winterguard" target="_blank" rel="noopener noreferrer" class="privateFooterstyled__StyledFooterLink-dpt5wm-1 eVRegO"><svg height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a></footer></article></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"content":"\u003ch1 id=\"vuejs-deep\"\u003e[VueJS] deep\u003c/h1\u003e\n\u003cp\u003eVue-Loader 에서는 deep selector 라는 강력한 기능을 제공하고 있다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\"\u003ehttps://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e상위 컴포넌트에서 하위 컴포넌트의 css에 접근해서 사용할 수 있는 기능으로, 라이브러리를 사용했을 때 라이브러리 컴포넌트 CSS를 따로 사용하기 번거롭거나 해당 라이브러리 컴포넌트 CSS가 Scoped 상태이기를 원할 때 쓸 수 있는 기능이다.\u003c/p\u003e\n\u003cp\u003e이 기능은 기본적으로 \u003ccode\u003escoped\u003c/code\u003e 상태에서만 활용할 수 있다.\u003c/p\u003e\n\u003cp\u003e먼저 간단하게 기본형을 확인해보자.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    parent\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003echild\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escoped\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: orangered;\n  }\n\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e \u003cspan class=\"hljs-selector-class\"\u003e.child\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: blueviolet;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eVue\u003c/code\u003e는 \u003ccode\u003escoped\u003c/code\u003e 상태일 때에는 해당 엘리먼트에 \u003ccode\u003e[data-v-난수]\u003c/code\u003e(ex: \u003ccode\u003e[data-v-2a183b29]\u003c/code\u003e)의 형태로 범위를 지정하기 위한 어트리뷰트를 붙이게 된다.\u003c/p\u003e\n\u003cp\u003e그리고 CSS를 컴파일 할 때에는 확실한 Scoped의 처리를 위해서 항상 마지막 클래스에 붙인다. 위의 코드가 CSS로 컴파일 되면 다음과 같은 형태가 된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e/* 편의상 html 이라고 가정한다. */\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-v-2a183b29\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    parent\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-v-2a183b29\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003echild\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[data-v-2a183b29]\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: orangered;\n  }\n\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e \u003cspan class=\"hljs-selector-class\"\u003e.child\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[data-v-2a183b29]\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: blueviolet;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이렇게 함으로써 \u003ccode\u003eVue\u003c/code\u003e에서는 컴포넌트 단위로 서로 영향을 주지 않는 \u003ccode\u003escoped\u003c/code\u003e 처리를 할 수 있게 된다.\u003c/p\u003e\n\u003cp\u003e하지만 이렇게 하나의 컴포넌트 단위 안에 있을 때가 아니라 다른 컴포넌트에 있는 클래스에 영향을 주려면 어떻게 해야할까?\u003c/p\u003e\n\u003cp\u003e이 이야기에 앞서 상황에 대한 설정이 조금 필요하다. 우선 컴포넌트 단위의 개발론에 입각하여 봤을 때 상위 컴포넌트가 하위 컴포넌트의 CSS에 영향을 주는 일이 \u0026#39;좀처럼\u0026#39; 있어서는 안될 것이다.\u003c/p\u003e\n\u003cp\u003e컴포넌트의 개발은 당연히 독립적으로 이루어질 수록 좋으며, 느슨한 연결을 가질 수록 훌륭한 것은 사실이다.\u003c/p\u003e\n\u003cp\u003e따라서 이런 상황은 자기 자신의 독립적인 컴포넌트를 제작할 때 발생하는 것이 아니라 다른 라이브러리와 연결하여 사용할 때 발생하는 경우라고 봐야한다.\u003c/p\u003e\n\u003cp\u003e특히 그 라이브러리에서 충분한 \u003ccode\u003eStyle-Props\u003c/code\u003e를 충분히 지원하지 않는 경우에 활용할 수 있다.\u003c/p\u003e\n\u003cp\u003e라이브러리를 직접 수정하는 것이 아니라 한번 더 감싸서 커스텀한 컴포넌트를 만들고, 자체적으로 CSS를 추가하고자 할 때 이런 \u003ccode\u003edeep\u003c/code\u003e 기능의 활용이 유용할 것으로 생각된다.\u003c/p\u003e\n\u003cp\u003e이런 점을 우선 감안하고 본론으로 넘어가도록 한다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escoped\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: orangered;\n  }\n\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e \u003cspan class=\"hljs-selector-class\"\u003e.child\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: blueviolet;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e\u0026lt;LibraryComponent /\u0026gt;\u003c/code\u003e에 \u003ccode\u003echild\u003c/code\u003e 클래스(혹은 특정 엘리먼트)가 있다고 가정했을 때 위의 css 로는 child 클래스를 가진 엘리먼트의 폰트 색상을 원하는 색상으로 변경할 수가 없다.\u003c/p\u003e\n\u003cp\u003e왜냐하면 \u003ccode\u003e[data-v-난수]\u003c/code\u003e는 현재 \u003ccode\u003eparent\u003c/code\u003e 클래스가 있는 컴포넌트에만 붙고, \u003ccode\u003e\u0026lt;LibraryComponent /\u0026gt;\u003c/code\u003e에는 붙지 않기 때문이다.\u003c/p\u003e\n\u003cp\u003e아. 물론 함정이 하나 있다. \u003ccode\u003e\u0026lt;LibraryComponent /\u0026gt;\u003c/code\u003e의 루트 엘리먼트에는 \u003ccode\u003e[data-v-난수]\u003c/code\u003e가 동일하게 붙는다. 만약 \u003ccode\u003e\u0026lt;LibraryComponent /\u0026gt;\u003c/code\u003e의 루트 엘리먼트에 \u003ccode\u003echild\u003c/code\u003e 클래스가 붙어있다면 위의 코드도 적용이 되겠지만 설명을 위해 \u003ccode\u003echild\u003c/code\u003e 클래스가 루트 엘리먼트에 있는 것이 아니라고 가정한다. (이런 부분 때문에 처음에 Vue Scoped CSS의 범위를 설정하는 데에는 조금 이해와 인내심이 필요한 것 같다.)\u003c/p\u003e\n\u003cp\u003e이 때 \u003ccode\u003e\u0026lt;LibarayComponent /\u0026gt;\u003c/code\u003e의 \u003ccode\u003echild\u003c/code\u003e 클래스에 접근하기 위해서 사용할 수 있는 것이 Deep Selector 이다.\u003c/p\u003e\n\u003cp\u003eVue-Loader 에서 기존에는 /deep/ 의 형태로 사용해야 했지만, 이 문법 자체는 deprecated 될 예정이고 \u0026gt;\u0026gt;\u0026gt; 를 쓰는 것을 추천하고 있다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/vuejs/vue-loader/issues/913\"\u003ehttps://github.com/vuejs/vue-loader/issues/913\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escoped\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: orangered;\n  }\n\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e \u0026gt;\u0026gt;\u0026gt; \u003cspan class=\"hljs-selector-class\"\u003e.child\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: blueviolet;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위와 같이 사용했을 경우 다들 예상했다시피 CSS가 다음과 같이 컴파일 된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e/* 편의상 html 이라고 가정한다. */\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-v-2a183b29\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    parent\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-v-2a183b29\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edata-v-2a183b29\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003echild\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"css\"\u003e\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[data-v-2a183b29]\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: orangered;\n  }\n\n  \u003cspan class=\"hljs-selector-class\"\u003e.parent\u003c/span\u003e\u003cspan class=\"hljs-selector-attr\"\u003e[data-v-2a183b29]\u003c/span\u003e \u003cspan class=\"hljs-selector-class\"\u003e.child\u003c/span\u003e {\n    \u003cspan class=\"hljs-attribute\"\u003ecolor\u003c/span\u003e: blueviolet;\n  }\n\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그러면 이제 안전하게(?) \u003ccode\u003e\u0026lt;LibraryComponent /\u0026gt;\u003c/code\u003e 하위에 있는 \u003ccode\u003echild\u003c/code\u003e 클래스를 지목하여 폰트 색상을 변경할 수 있다.\u003c/p\u003e\n\u003cp\u003e다만, 위의 예시에 보면 엘리먼트를 하나 더 추가했는데 이런 경우에는 자체 컴포넌트에 있는 \u003ccode\u003echild\u003c/code\u003e 클래스를 가진 엘리먼트의 폰트 색상도 당연히 함께 바뀌게 된다.\u003c/p\u003e\n\u003cp\u003e이제까지 본 사실을 토대로 알 수 있겠지만 이 \u003ccode\u003eDeep Selector\u003c/code\u003e를 사용하는 것은 \u003ccode\u003escoped\u003c/code\u003e 라는 기반을 무너뜨릴 수 있는 위험한 존재가 될 수 있다. 당연히 남용하라고 만든 것은 아니며 \u003cem\u003e반드시 필요한 경우에만 사용\u003c/em\u003e하는 것이 좋을 것이다.\u003c/p\u003e\n\u003cp\u003e하위 컴포넌트에 접근하기 위한 \u003ccode\u003eDeep Selector\u003c/code\u003e는 되도록이면 최하위 요소 컴포넌트에서 라이브러리 컴포넌트를 사용할 때 정도에 쓰는 것은 안전할 것이다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eSCSS\u003c/code\u003e 등과 같은 전처리 도구를 사용할 때에는 아주 조금 확장된 기능을 사용할 순 있다. 미리 이야기해두자면 편리할 순 있지만, 좋은 시선으로 보기 어려운 방법이기 때문에 함께 일하고 있는 경우에는 서로간의 합의와 이해가 필요한 방법이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escoped\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  .parent {\n    color: orangered;\n  }\n\n  .parent {\n    ::v-deep .child {\n      color: blueviolet;\n    }\n  }\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e현재 기준 \u003ccode\u003e\u0026quot;sass\u0026quot;: \u0026quot;^1.27.0\u0026quot;, \u0026quot;sass-loader\u0026quot;: \u0026quot;^10.0.4\u0026quot;\u003c/code\u003e 에서는 \u0026gt;\u0026gt;\u0026gt; Deep Selector를 지원하지 않으며, \u003ccode\u003e::v-deep\u003c/code\u003e의 형태로 지원하고 있다.\u003c/p\u003e\n\u003cp\u003e여기까지는 이제까지 봤던 Deep Selector와 별반 다르지 않다.\u003c/p\u003e\n\u003cp\u003e다음 사례를 보자. 이상한 상황과 수많은 가정을 만들 수 밖에 없는 것을 양해해주기 바란다. 왜냐하면 애초에 이 기능은 극한 상황, 어쩔 수 없는 상황에서나 쓰는 것이지 자주 쓰라는 기능이 아니기 때문이다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;grand-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;a-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;b-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;c-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;d-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escoped\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  .parent {\n    color: orangered;\n  }\n\n  .a-parent {\n    ::v-deep .child {\n      color: chocolate;\n    }\n  }\n  .b-parent {\n    ::v-deep .child {\n      color: darkcyan;\n    }\n  }\n  .c-parent {\n    ::v-deep .child {\n      color: darkslategrey;\n    }\n  }\n  .d-parent {\n    ::v-deep .child {\n      color: blueviolet;\n    }\n  }\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이렇게 부모에 따라서 하위 라이브러리 CSS를 변경해야할 때는 이렇게 늘어뜨려 써야 할 경우가 있다. 전처리 도구를 활용할 경우에는 부모와 자식 클래스를 역전(!)시켜 사용할 수 있다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;grand-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;a-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;b-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;c-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;d-parent\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eLibraryComponent\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ewithClass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;child\u0026quot;\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etemplate\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escoped\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  .parent {\n    color: orangered;\n  }\n\n  .child {\n    .a-parent \u0026amp; ::v-deep {\n      color: chocolate;\n    }\n    .b-parent \u0026amp; ::v-deep {\n      color: darkcyan;\n    }\n    .c-parent \u0026amp; ::v-deep {\n      color: darkslategrey;\n    }\n    .d-parent \u0026amp; ::v-deep {\n      color: blueviolet;\n    }\n  }\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003estyle\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e코드를 좀더 간결하게 볼 수 있다. 서로간에 문법만 제대로 알고 있다면 크게 복잡도가 높지 않을 때에는 사용해 볼 수 있는 방식이다. 다만 일반적으로는 당연히 부모가 자식을 감싸는 것이 맞다고 생각하기 때문에 이 문법을 마냥 좋은 눈으로 보기는 어려워 보인다. 그렇기 때문에 혼자 코드를 작성할 때 어떻게 하든 상관없겠지만, 협업을 할 때에는 협업자들과의 동의 후에 진행하는 것이 좋을 것 같다.\u003c/p\u003e\n\u003cp\u003e결론적으로 \u003ccode\u003eDeep Selector\u003c/code\u003e 언젠가는 필요할 수도 있지만, 남용은 하지말자. 특히 이런 사용할 일이 드물거나 하는 기능은 마이너 버전 업데이트까지는 그래도 괜찮지만, 메이저 버전 업데이트에서는 빠지거나 변경될 가능성이 매우 크다. 안전한 컴포넌트 개발을 통해 미래의 수고를 줄이는 것이 더 좋을테니, 이런 기능이 있다는 정도만 알고 정말 도저히 방법이 없다라는 결론에 도달했을 때만 사용하도록 하자.\u003c/p\u003e\n","data":{"titlePrefix":"VueJS","title":"deep selector"},"isEmpty":false,"excerpt":""}},"__N_SSG":true},"page":"/journal/[classification]/[postName]","query":{"classification":"developments","postName":"2020-10-22-VueJS deep"},"buildId":"TbyTwTwW4kSZl3acOlPhJ","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-f8d88fc6aa27b790f2ac.js"></script><script src="/_next/static/chunks/main-2a885b0f9fe0d91a6ecc.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.9116e7bff2bfccdffa19.js" async=""></script><script src="/_next/static/chunks/cd874f92f6d1699c91a107e773964eb1edecf64e.c4c0821fc1e405eb2232.js" async=""></script><script src="/_next/static/chunks/0330825bb4b60a963845fef84df50f39c18185b3.59202b6886415149c42a.js" async=""></script><script src="/_next/static/chunks/pages/_app-65a81d3b4286f2bf201f.js" async=""></script><script src="/_next/static/chunks/24397fd22d9bab5c45aab1ae4d7546ea43385761.6cd9d0f4d7bd2386c84f.js" async=""></script><script src="/_next/static/chunks/pages/journal/%5Bclassification%5D/%5BpostName%5D-fcf1a4876d9291565e86.js" async=""></script><script src="/_next/static/TbyTwTwW4kSZl3acOlPhJ/_buildManifest.js" async=""></script><script src="/_next/static/TbyTwTwW4kSZl3acOlPhJ/_ssgManifest.js" async=""></script></body></html>